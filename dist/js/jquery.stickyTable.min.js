!function(h){var e={container:".sticky_wrap",headerName:"#header",fixedName:".head_fixed",stickyCellName:".sticky_cell",stickyCellTop:".sticky_cell.top",stickyCellEmpty:"",left:0,right:0,isFloatingScroll:!0,isOuterScroll:!0,waitTimer:100};function i(t,i){this.w=h(document),this.e=h(t),this.options=h.extend({},e,i),this.init()}i.prototype={init:function(){var n=this,s=n.options,c=n.e;if(n.scrollVisible=!0,n.skipSyncContainer=n.skipSyncWidget=!1,c.find("td").length<=1)return!1;if(h(s.container).length?s.headerName.length||console.error("headerName값이 올바르지 않습니다. header가 없는 경우 빈 값으로 설정해주세요."):console.error("container값이 올바르지 않습니다."),s.isOuterScroll){var t=""!==s.headerName?h(s.headerName).outerHeight():0,i=c.find("thead").clone(),e=' <div class="'+s.fixedName.replace(/\./g,"")+' on">';e+="\t<table>",e+=i[0].outerHTML,e+="\t</table>",e+="</div>",c.prepend(e),h(s.fixedName).css("top",t+"px")}var o=c.find(s.fixedName);0<s.left&&n.stickyLeft(),0<s.right&&n.stickyRight(),s.isFloatingScroll&&n.floatingScroll(),function(){function i(){o.css("width",c[0].offsetWidth),n.rightPos()}i();var e=null;h(window).on("resize",function(t){clearTimeout(e),e=setTimeout(i,s.waitTimer)}),n.stickyHeader();var l=n.scrollMoveLeft();h(window).on("scroll",function(){var t=h(window).scrollLeft();n.stickyHeader(),s.isFloatingScroll&&(n.resizeScroll(),n.checkVisibility()),l(t)})}(),c.on("scroll",function(){var t=c.scrollLeft();o.find("table").css("margin-left",-t),s.isFloatingScroll&&!n.skipSyncWidget&&(n.syncWidget(),n.skipSyncWidget=!1)})},stickyHeader:function(){var t=this.options,i=this.e,e=i.find(t.fixedName),l=h(window).scrollTop();i.offset().top-(""!==t.headerName?h(t.headerName).outerHeight():0)<l?e.addClass("on"):e.removeClass("on")},scrollMoveLeft:function(){var s=this.options,l=this.e,c=0;return function(n){if(c!==n){var t=h(s.fixedName),i=h(s.fixedName).find(s.stickyCellTop),e=l.offset().left-n;t.css("left",e),i.each(function(t,i){var e=parseInt(h(i).css("left").replace("px")),l=n-c;""===s.stickyCellEmpty?h(i).css("left",e-l+"px"):h(i).add(s.stickyCellEmpty).css("left",e-l+"px")}),c=n}}},stickyLeft:function(){for(var t=this.options,i=this.e,e=i.find(t.fixedName),l=0,n=0,s=t.stickyCellName.replace(/\./g," ").trim(),c=t.stickyCellTop.replace(/\./g," ").trim(),o=h(t.container).length?h(t.container)[0].getBoundingClientRect().left:0,r=1;r<=t.left;r++){i.find("th:nth-child("+r+")").addClass(c).attr("data-fix","left"),i.find("td:nth-child("+r+")").addClass(s).attr("data-fix","left");var a=r-1,d=h(t.stickyCellName+':not(".top")')[a];if(l+=d.offsetWidth-1,0==a)e.find(t.stickyCellTop+":nth-child(1)").css("left",o+"px");else if(1<=a){n+=d.previousElementSibling.offsetWidth-1,h(t.stickyCellTop+":nth-child("+r+")").css("left",n+"px"),h(t.stickyCellName+":nth-child("+r+")").css("left",n+"px"),e.find(t.stickyCellTop+":nth-child("+r+")").css("left",n+o+"px")}}i.css({"margin-left":l})},stickyRight:function(){for(var t=this.options,i=this.e,e=t.stickyCellTop.replace(/\./g," ").trim(),l=t.stickyCellName.replace(/\./g," ").trim(),n=i.find("table")[0].rows[0].cells.length,s=1;s<=t.right;s++){var c=n-(s-1);i.find("th:nth-child("+c+")").addClass(e).attr("data-fix","right"),i.find("td:nth-child("+c+")").addClass(l).attr("data-fix","right")}},rightPos:function(){for(var t=this.options,i=this.e,e=i.find(t.fixedName),l=0,n=h(t.container).length?h(t.container)[0].getBoundingClientRect().left:0,s=h(t.container).length?h(t.container)[0].getBoundingClientRect().right:0,c=i.find("table")[0].rows[0].cells.length,o=1;o<=t.right;o++){var r=o-1,a=c-r,d=h(t.stickyCellName+'[data-fix="right"]:not(".top")')[r],f=s-(l+=(d?d.offsetWidth:0)-1)-n;h(t.stickyCellTop+":nth-child("+a+")").css("left",f+"px"),h(t.stickyCellName+":nth-child("+a+")").css("left",f+"px"),e.find(t.stickyCellTop+":nth-child("+a+")").css("left",f+n+"px")}i.css({"margin-right":l})},floatingScroll:function(){var t=this,i=t.e;widget=t.widget=h("<div class='fl-scrolls'></div>"),h("<div></div>").appendTo(widget).css({width:i[0].scrollWidth+"px"}),widget.appendTo(i),t.resizeScroll(),t.checkVisibility(),widget.on("scroll",function(){t.scrollVisible&&!t.skipSyncContainer&&t.syncContainer(),t.skipSyncContainer=!1})},resizeScroll:function(){var t=this.e,i=this.widget,e=t[0].clientWidth,l=t[0].scrollWidth;i.width(e).css("left",t[0].getBoundingClientRect().left+"px"),h("div",i).width(l),e<l&&i.height(i[0].offsetHeight-i[0].clientHeight+1)},syncContainer:function(){var t=this.e,i=this.widget[0].scrollLeft;t[0].scrollLeft!==i&&(this.skipSyncWidget=!0,t[0].scrollLeft=i)},syncWidget:function(){var t=this.e[0].scrollLeft;this.widget[0].scrollLeft!==t&&(this.skipSyncContainer=!0,this.widget[0].scrollLeft=t)},checkVisibility:function(){var t=this.e,i=this.widget,e=i[0].scrollWidth<=i[0].offsetWidth;if(!e){var l=t[0].getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;e=l.bottom<=n||l.top>n}this.scrollVisible===e&&(this.scrollVisible=!e,i.toggleClass("fl-scrolls-hidden"))}},h.fn.stickyTable=function(t){return this.each(function(){new i(this,t)})}}(jQuery);