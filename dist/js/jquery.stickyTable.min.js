!function(h){var i={headerName:"#header",fixedName:".head_fixed",stickyCellName:".sticky_cell",stickyCellTop:".sticky_cell.top",stickyCellEmpty:"",left:3,right:0,waitTimer:100};function e(t,e){this.w=h(document),this.e=h(t),this.options=h.extend({},i,e),this.init()}e.prototype={init:function(){var t=this,e=t.options,i=t.e,s=' <div class="head_fixed on">';s+="\t<table>",s+=i.find("thead").clone()[0].outerHTML,s+="\t</table>",s+="</div>",i.prepend(s);var o=i.find(e.fixedName);function n(){o.css("width",i.outerWidth())}0<e.left&&t.stickyLeft(),n(),h(window).on("resize",_.throttle(n,e.waitTimer)),t.stickyHeader(),h(window).on("scroll",_.throttle(function(){t.stickyHeader()},e.waitTimer));var l=t.scrollMoveLeft();h(window).on("scroll",function(){var t=h(window).scrollLeft();l(t)}),i.on("scroll",function(){var t=i.scrollLeft();o.find("table").css("margin-left",-t)})},stickyHeader:function(){var t=this.options,e=this.e,i=e.find(t.fixedName),s=h(window).scrollTop();e.offset().top<s?i.addClass("on"):i.removeClass("on")},stickyLeft:function(){for(var t=this.options,e=this.e,i=0,s=0,o=1;o<=t.left;o++){var n=e.find("th:nth-child("+o+")"),l=e.find("td:nth-child("+o+")"),c="sticky_cell",r=o-1;n.addClass(c),l.addClass(c);var f=h("."+c).eq(r).outerWidth(),d=parseInt(h("."+c).css("left").replace("px",""));if(i+=f-1,1<=r)s+=h("."+c).eq(r).prev().outerWidth()-1,h("."+c+":nth-child("+o+")").css("left",s+d+"px")}var a=e.outerWidth();e.css({width:a-i,"margin-left":i})},scrollMoveLeft:function(){var o=this.options,n=this.e,l=0,c=h(o.stickyCellTop+":visible").outerWidth();return function(t){if(l!==t){var e=h(o.fixedName),i=h(o.fixedName).find(o.stickyCellTop),s=n.offset().left-t;e.css("left",s),""===o.stickyCellEmpty?i.css("left",s-c+1):i.add(o.stickyCellEmpty).css("left",s-c+1),l=t}}}},h.fn.stickyTable=function(t){return this.each(function(){new e(this,t)})}}(jQuery);