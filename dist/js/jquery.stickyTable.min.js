!function(f){var t={container:".sticky_wrap",headerName:"#header",fixedName:".head_fixed",stickyCellName:".sticky_cell",stickyCellTop:".sticky_cell.top",stickyCellEmpty:"",left:0,right:0,isFloatingScroll:!0,isTheadFixed:!0,isOuterScroll:!0,isInnerScroll:!1,waitTimer:100};function i(e,i){this.w=f(document),this.e=f(e),this.options=f.extend({},t,i),this.init()}i.prototype={init:function(){var s=this,n=s.options,r=s.e;if(s.scrollVisible=!0,s.skipSyncContainer=s.skipSyncWidget=!1,r.find("td").length<=1)return!1;if(!f(n.container).length)return console.error("container값이 올바르지 않습니다."),!1;if(!n.headerName.length)return console.error("headerName값이 올바르지 않습니다. header가 없는 경우 빈 값으로 설정해주세요."),!1;if(n.isOuterScroll===n.isInnerScroll)return console.error("isOuterScroll와 isInnerScroll값은 반드시 다르게 설정해주세요."),!1;if(r.find("tbody tr").each(function(e,i){var t=f(i).find("td:first-child"),l=t.css("padding-top").replace("px",""),s=t.css("padding-bottom").replace("px",""),n=t.css("border-top-width").replace("px",""),r=i.offsetHeight-Number(l)-Number(s)-Number(n);f(i).find("td").height(r)}),n.isTheadFixed){var e=r.find("thead").clone(),i=r.find("table")[0].className,t=' <div class="'+n.fixedName.replace(/\./g,"")+(n.isOuterScroll?" on":"")+'">';t+="\t<table"+(i?' class="'+i+'"':"")+">",t+=e[0].outerHTML,t+="\t</table>",t+="</div>",r.prepend(t)}var c=r.find(n.fixedName);0<n.left&&s.stickyLeft(),0<n.right&&s.stickyRight(),f(".merge").length&&s.cellMerge(),function(){function i(){c.css("width",n.isInnerScroll?r[0].offsetWidth-17:r[0].offsetWidth),s.rightPos(),n.isFloatingScroll&&s.floatingScroll(),n.isOuterScroll&&s.stickyHeader()}i();var t=null;f(window).on("resize",function(e){clearTimeout(t),t=setTimeout(i,n.waitTimer)});var l=s.scrollMoveLeft();n.isOuterScroll&&f(window).on("scroll",function(){var e=f(window).scrollLeft();s.stickyHeader(),n.isFloatingScroll&&(s.resizeScroll(),s.checkVisibility()),l(e)})}(),r.on("scroll",function(){var e=r.scrollLeft();c.find("table").css("margin-left",-e),n.isFloatingScroll&&!s.skipSyncWidget&&s.syncWidget(),s.skipSyncWidget=!1,n.isInnerScroll&&(r.scrollTop()<=0?r.find(n.fixedName).removeClass("on inr"):r.find(n.fixedName).addClass("on inr"))})},cellMerge:function(){f(".merge").each(function(e,i){var t=f(i).hasClass("col"),l=f(i).hasClass("row"),s=f(i).data("merge");if(t){var n=f(i),r=Number(f(i).css("padding-right").replace("px","")),c=Number(f(i).css("border-right-width").replace("px","")),o=0;console.log(c);for(e=0;e<s;e++){o+=0<e&&e<s-1?n.innerWidth():n.innerWidth()-r+c,(n=n.next()).css("z-index","-1")}f(i).width(o)}else if(l){(n=f(i)).parents("tr");var d=f(i).index(),a=(r=Number(f(i).css("padding-top").replace("px","")),c=Number(f(i).css("border-top-width").replace("px","")),0);for(e=0;e<s;e++){a+=0<e&&e<s-1?n.innerHeight():n.innerHeight()-r+c,(n=n.parents("tr").next().find(i.nodeName).eq(d)).css("z-index","-1")}f(i).height(a)}})},stickyHeader:function(){var e=this.options,i=this.e,t=i.find(e.fixedName),l=f(window).scrollTop(),s=i.offset().top,n=s+i.innerHeight(),r=f(e.headerName).length?f(e.headerName).outerHeight():0,c=s-r,o=0;t.removeClass("on"),c<l&&(t.addClass("on").css("top",r+"px"),o=t[0].offsetHeight),n-o-r<l&&t.removeClass("on")},scrollMoveLeft:function(){var n=this.options,l=this.e,r=0;return function(s){if(r!==s){var e=l.find(n.fixedName),i=e.find(n.stickyCellTop),t=l.offset().left-s;e.css("left",t),i.each(function(e,i){var t=parseInt(f(i).css("left").replace("px")),l=s-r;""===n.stickyCellEmpty?f(i).css("left",t-l+"px"):f(i).add(n.stickyCellEmpty).css("left",t-l+"px")}),r=s}}},stickyLeft:function(){for(var e=this.options,i=this.e,t=i.find(e.fixedName),l=0,s=0,n=e.stickyCellName.replace(/\./g," ").trim(),r=e.stickyCellTop.replace(/\./g," ").trim(),c=i.parents(e.container).length?i.parents(e.container)[0].getBoundingClientRect().left:0,o=1;o<=e.left;o++){i.find("th:nth-child("+o+")").addClass(r).attr("data-fix","left"),i.find("td:nth-child("+o+")").addClass(n).attr("data-fix","left");var d=o-1,a=i.find(e.stickyCellName+':not(".top")')[d];if(l+=a.offsetWidth-1,0==d)t.find(e.stickyCellTop+":nth-child(1)").css("left",c+"px");else if(1<=d){s+=a.previousElementSibling.offsetWidth-1,i.find(e.stickyCellTop+":nth-child("+o+")").css("left",s+"px"),i.find(e.stickyCellName+":nth-child("+o+")").css("left",s+"px"),t.find(e.stickyCellTop+":nth-child("+o+")").css("left",s+c+"px")}}i.css({"margin-left":l})},stickyRight:function(){for(var e=this.options,i=this.e,t=e.stickyCellTop.replace(/\./g," ").trim(),l=e.stickyCellName.replace(/\./g," ").trim(),s=i.find("table")[0].rows[0].cells.length,n=1;n<=e.right;n++){var r=s-(n-1);i.find("th:nth-child("+r+")").addClass(t).attr("data-fix","right"),i.find("td:nth-child("+r+")").addClass(l).attr("data-fix","right")}},rightPos:function(){for(var e=this.options,i=this.e,t=i.parents(e.container),l=i.find(e.fixedName),s=0,n=t.length?t[0].getBoundingClientRect().left:0,r=t.length?t[0].getBoundingClientRect().right:0,c=i.find("table")[0].rows[0].cells.length,o=1;o<=e.right;o++){var d=o-1,a=c-d,f=i.find(e.stickyCellName+'[data-fix="right"]:not(".top")')[d],h=r-(s+=(f?f.offsetWidth:0)-1)-n;i.find(e.stickyCellTop+":nth-child("+a+")").css("left",h+"px"),i.find(e.stickyCellName+":nth-child("+a+")").css("left",h+"px"),l.find(e.stickyCellTop+":nth-child("+a+")").css("left",h+n+"px")}i.css({"margin-right":s})},floatingScroll:function(){var e=this,i=e.e;widget=e.widget=f("<div class='fl-scrolls'></div>"),$flScrolls=i.find(".fl-scrolls"),$flScrolls.length&&$flScrolls.remove(),f("<div></div>").appendTo(widget).css({width:i[0].scrollWidth+"px"}),widget.appendTo(i),e.resizeScroll(),e.checkVisibility(),widget.on("scroll",function(){e.scrollVisible&&!e.skipSyncContainer&&e.syncContainer(),e.skipSyncContainer=!1})},resizeScroll:function(){var e=this.e,i=this.widget,t=e[0].clientWidth,l=e[0].scrollWidth;i.width(t).css("left",e[0].getBoundingClientRect().left+"px"),f("div",i).width(l),t<l&&i.height(i[0].offsetHeight-i[0].clientHeight+1)},syncContainer:function(){var e=this.e,i=this.widget[0].scrollLeft;e[0].scrollLeft!==i&&(this.skipSyncWidget=!0,e[0].scrollLeft=i)},syncWidget:function(){var e=this.e[0].scrollLeft;this.widget[0].scrollLeft!==e&&(this.skipSyncContainer=!0,this.widget[0].scrollLeft=e)},checkVisibility:function(){var e=this,i=e.e,t=e.widget,l=t[0].scrollWidth<=t[0].offsetWidth;if(!l){var s=i[0].getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;l=s.bottom<=n||s.top>n}e.scrollVisible===l&&(e.scrollVisible=!l),e.scrollVisible?t.removeClass("fl-scrolls-hidden"):t.addClass("fl-scrolls-hidden")}},f.fn.stickyTable=function(e){return this.each(function(){new i(this,e)})}}(jQuery);