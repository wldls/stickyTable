!function(h){var e={headerName:"#header",fixedName:".head_fixed",stickyCellName:".sticky_cell",stickyCellTop:".sticky_cell.top",stickyCellEmpty:"",left:0,right:0,isFloatingScroll:!0,isOuterScroll:!0,waitTimer:100};function t(i,t){this.w=h(document),this.e=h(i),this.options=h.extend({},e,t),this.init()}t.prototype={init:function(){var t=this,l=t.options,s=t.e;if(t.scrollVisible=!0,t.skipSyncContainer=t.skipSyncWidget=!1,l.isOuterScroll){var i=' <div class="head_fixed on">';i+="\t<table>",i+=s.find("thead").clone()[0].outerHTML,i+="\t</table>",i+="</div>",s.prepend(i)}var n=s.find(l.fixedName);0<l.left&&t.stickyLeft(),l.isFloatingScroll&&t.floatingScroll(),function(){function t(){n.css("width",s[0].offsetWidth)}t();var e=null;h(window).on("resize",function(i){clearTimeout(e),e=setTimeout(t,l.waitTimer)})}(),t.stickyHeader();var e=t.scrollMoveLeft();h(window).on("scroll",function(){var i=h(window).scrollLeft();t.stickyHeader(),l.isFloatingScroll&&t.checkVisibility(),e(i)}),s.on("scroll",function(){var i=s.scrollLeft();n.find("table").css("margin-left",-i),l.isFloatingScroll&&!t.skipSyncWidget&&(t.syncWidget(),t.skipSyncWidget=!1)})},stickyHeader:function(){var i=this.options,t=this.e,e=t.find(i.fixedName),l=h(window).scrollTop();t.offset().top<l?e.addClass("on"):e.removeClass("on")},scrollMoveLeft:function(){var n=this.options,c=this.e,o=0;return function(i){if(o!==i){var t=h(n.fixedName),e=h(n.fixedName).find(n.stickyCellTop),l=c.offset().left-i,s=c.offset().left-c[0].offsetLeft;t.css("left",l),e.eq(0).css("left",s-i),e.each(function(i,t){if(0!==i){var e=h(t).outerWidth();""===n.stickyCellEmpty?h(t).css("left",l-e+1):h(t).add(n.stickyCellEmpty).css("left",l-e+1)}}),o=i}}},stickyLeft:function(){for(var i=this.options,t=this.e,e=t.find(i.fixedName),l=0,s=0,n=i.stickyCellName.replace(/\./g," ").trim(),c=i.stickyCellTop.replace(/\./g," ").trim(),o=1;o<=i.left;o++){t.find("th:nth-child("+o+")").addClass(c),t.find("td:nth-child("+o+")").addClass(n);var f=o-1,d=h(i.stickyCellName)[f],r=d.offsetWidth,a=t[0].getBoundingClientRect().left;if(l+=r-1,0==f)e.find(i.stickyCellTop+":nth-child(1)").css("left",a+"px");else if(1<=f){s+=d.previousElementSibling.offsetWidth-1,h(i.stickyCellTop+":nth-child("+o+")").css("left",s+"px"),h(i.stickyCellName+":nth-child("+o+")").css("left",s+"px"),e.find(i.stickyCellTop+":nth-child("+o+")").css("left",s+a+"px")}}t.css({"margin-left":l})},stickyRight:function(){for(var i=this.options,t=this.e,e=0,l=0,s=i.stickyCellName.replace(/\./g," ").trim(),n=i.stickyCellTop.replace(/\./g," ").trim(),c=1;c<=i.right;c++){s="sticky_cell2";var o=c-1,f=t.find("table")[0].rows[0].cells.length-o;t.find("th:nth-child("+f+")").addClass(n),t.find("td:nth-child("+f+")").addClass(s);var d=h("."+s)[c],r=d.offsetWidth,a=t[0].getBoundingClientRect().right;if(e+=r-1,o<1)l+=d.previousElementSibling.offsetWidth-1,h("."+s+":nth-child("+f+")").css("right",l+a+"px")}t.css({"margin-right":e})},floatingScroll:function(){var i=this,t=i.e;widget=i.widget=h("<div class='fl-scrolls'></div>"),h("<div></div>").appendTo(widget).css({width:t[0].scrollWidth+"px"}),widget.appendTo(t),i.checkVisibility(),i.resizeScroll(),widget.on("scroll",function(){i.scrollVisible&&!i.skipSyncContainer&&i.syncContainer(),i.skipSyncContainer=!1})},resizeScroll:function(){var i=this.e,t=this.widget,e=i[0].clientWidth,l=i[0].scrollWidth;t.width(e).css("left",i[0].getBoundingClientRect().left+"px"),h("div",t).width(l),e<l&&t.height(t[0].offsetHeight-t[0].clientHeight+1)},syncContainer:function(){var i=this.e,t=this.widget[0].scrollLeft;i[0].scrollLeft!==t&&(this.skipSyncWidget=!0,i[0].scrollLeft=t)},syncWidget:function(){var i=this.e[0].scrollLeft;this.widget[0].scrollLeft!==i&&(this.skipSyncContainer=!0,this.widget[0].scrollLeft=i)},checkVisibility:function(){var i=this.e,t=this.widget,e=t[0].scrollWidth<=t[0].offsetWidth;if(!e){var l=i[0].getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight;e=l.bottom<=s||l.top>s}this.scrollVisible===e&&(this.scrollVisible=!e,t.toggleClass("fl-scrolls-hidden"))}},h.fn.stickyTable=function(i){return this.each(function(){new t(this,i)})}}(jQuery);